
/* 覆盖VitePress默认的CSS变量 */
:root {
  --vp-c-brand-1: #4fc3f7;
  --vp-c-brand-2: #81d4fa;
  --vp-c-brand-3: #b3e5fc;
  --vp-c-brand-soft: rgba(79, 195, 247, 0.1);
  /* 使用标准的 color-scheme 属性 */
  color-scheme: light dark;
  /* 确保使用标准的滚动行为 */
  scroll-behavior: auto;
}

/* 深色模式下的星空背景 */
.dark {
  --vp-c-bg: #0a0a0a;
  --vp-c-bg-alt: #0f0f23;
  --vp-c-bg-elv: #1a1a3a;
  --vp-c-bg-soft: #16213e;
  --vp-c-border: rgba(79, 195, 247, 0.2);
  --vp-c-divider: rgba(79, 195, 247, 0.2);
  --vp-c-text-1: #ffffff;
  --vp-c-text-2: #a8a8a8;
  --vp-c-text-3: #737373;
  --vp-c-text-code: #e6e6e6;
  --vp-c-brand: #4fc3f7;
  --vp-c-brand-light: #81d4fa;
  --vp-c-brand-lighter: #b3e5fc;
  --vp-c-brand-dark: #29b6f6;
  --vp-c-brand-darker: #0288d1;
  
  background: linear-gradient(135deg, #0a0a0a 0%, #0f0f23 25%, #1a1a3a 50%, #2d1b69 75%, #16213e 100%);
  position: relative;
  /* 移除强制隐藏横向滚动条，避免滚动问题 */
  /* overflow-x: hidden; */
  /* 确保使用标准的滚动行为 */
  scroll-behavior: auto;
}


/* 星星闪烁动画 */
/* @keyframes sparkle {
  0% {
    transform: translateY(0px);
  }
  100% {
    transform: translateY(-100px);
  }
}

@keyframes twinkle {
  0% {
    opacity: 0.7;
  }
  100% {
    opacity: 1;
  }
} */

/* @keyframes meteor {
  0% {
    transform: translateX(-300px) translateY(-300px);
  }
  100% {
    transform: translateX(calc(100vw + 300px)) translateY(calc(100vh + 300px));
  }
}

@keyframes galaxy {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
} */

/* 强制所有内容区域透明 */
.dark .VPContent,
.dark .VPDoc,
.dark .VPContentDoc,
.dark .content,
.dark .container,
.dark .vp-doc,
.dark .vp-doc .content,
.dark .vp-doc .content-container,
.dark .vp-doc .content-body,
.dark .VPContentDoc .content,
.dark .VPContentDoc .container,
.dark .VPContentDoc .vp-doc,
.dark .VPContentDoc .vp-doc .content,
.dark .VPContentDoc .vp-doc .content-container,
.dark .VPContentDoc .vp-doc .content-body,
.dark .VPContentDoc *,
.dark .vp-doc *,
.dark .content *,
.dark .container * {
  background: transparent !important;
}

/* 移除自定义布局约束，恢复VitePress官方布局 */

/* 导航栏和侧边栏保持半透明 */
.dark .VPNav {
  background: rgba(15, 15, 35, 0.8) !important;
  backdrop-filter: blur(15px);
  border-bottom: 1px solid rgba(79, 195, 247, 0.2);
  /* 添加右边框，使分割线延伸到顶部 */
  border-right: 1px solid rgba(79, 195, 247, 0.2) !important;
}

.dark .VPNavBar.has-sidebar .content-body {
  background: rgba(15, 15, 35, 0.8) !important;
  backdrop-filter: blur(15px);
}

.dark .VPSidebar {
  background: rgba(15, 15, 35, 0.9) !important;
  backdrop-filter: blur(15px);
  border-right: 1px solid rgba(79, 195, 247, 0.2);
}

/* 代码块和卡片保持半透明 */
.dark .vp-doc div[class*='language-'],
.dark .vp-doc .custom-block,
.dark .vp-doc table,
.dark .vp-doc blockquote,
.dark .VPDocFooter .pager-link,
.dark .VPDocAside .content-container,
.dark .DocSearch-Hit {
  background: rgba(15, 15, 35, 0.8) !important;
  backdrop-filter: blur(15px);
  border: 1px solid rgba(79, 195, 247, 0.3);
  box-shadow: 0 0 20px rgba(79, 195, 247, 0.1);
}

.dark .vp-doc th {
  background: rgba(79, 195, 247, 0.2) !important;
}

/* 链接样式 */
.dark .vp-doc a {
  color: #4fc3f7 !important;
  text-shadow: 0 0 5px rgba(79, 195, 247, 0.3);
}

.dark .vp-doc a:hover {
  color: #81d4fa !important;
  text-shadow: 0 0 10px rgba(129, 212, 250, 0.5);
}

/* 标题样式 */
.dark .vp-doc h1,
.dark .vp-doc h2,
.dark .vp-doc h3,
.dark .vp-doc h4,
.dark .vp-doc h5,
.dark .vp-doc h6 {
  color: #ffffff !important;
}

/* 段落文本样式 */
.dark .vp-doc p {
  color: #a8a8a8 !important;
}

/* 列表样式 */
.dark .vp-doc ul,
.dark .vp-doc ol {
  color: #a8a8a8 !important;
}

/* 引用块样式 */
.dark .vp-doc blockquote {
  border-left: 4px solid #4fc3f7;
  color: #a8a8a8;
}

/* 选择文本样式 */

/* 选择文本样式 */
.dark ::selection {
  background: rgba(79, 195, 247, 0.3);
  color: #ffffff;
}

/* 主题切换按钮样式 */
.dark .VPNavBarMenuLink {
  color: #ffffff !important;
  background: transparent !important;
  transition: all 0.3s ease !important;
  text-shadow: 0 0 3px rgba(255, 255, 255, 0.3);
}

.dark .VPNavBarMenuLink:hover {
  color: #81d4fa !important;
  text-shadow: 0 0 8px rgba(129, 212, 250, 0.6);
  background: transparent !important;
}

.dark .VPNavBarMenuLink.active {
  color: #81d4fa !important;
  text-shadow: 0 0 8px rgba(129, 212, 250, 0.6);
  background: transparent !important;
}

/* 确保主题切换按钮在暗色模式下可见 */
.dark .VPNavBarAppearance {
  color: #ffffff !important;
  opacity: 1 !important;
  visibility: visible !important;
  transition: all 0.3s ease !important;
}

.dark .VPNavBarAppearance:hover {
  color: #4fc3f7 !important;
  text-shadow: 0 0 5px rgba(79, 195, 247, 0.3);
  opacity: 1 !important;
  visibility: visible !important;
}

/* 确保主题切换图标在暗色模式下可见 */
.dark .VPNavBarAppearance svg,
.dark .VPNavBarAppearance i,
.dark .VPNavBarAppearance .icon {
  color: #ffffff !important;
  fill: #ffffff !important;
  stroke: #ffffff !important;
  opacity: 1 !important;
  visibility: visible !important;
}

.dark .VPNavBarAppearance:hover svg,
.dark .VPNavBarAppearance:hover i,
.dark .VPNavBarAppearance:hover .icon {
  color: #4fc3f7 !important;
  fill: #4fc3f7 !important;
  stroke: #4fc3f7 !important;
  opacity: 1 !important;
  visibility: visible !important;
}

/* 侧边栏链接样式 */
.dark .VPSidebarItem .item {
  color: #a8a8a8 !important;
}

.dark .VPSidebarItem .item:hover {
  color: #ffffff !important;
  background: rgba(79, 195, 247, 0.1);
  box-shadow: 0 0 10px rgba(79, 195, 247, 0.2);
}

.dark .VPSidebarItem .item.active {
  color: #4fc3f7 !important;
  background: rgba(79, 195, 247, 0.1);
  box-shadow: 0 0 15px rgba(79, 195, 247, 0.3);
}

/* 面包屑导航样式 */
.dark .VPDocBreadcrumbs {
  color: #737373 !important;
}

.dark .VPDocBreadcrumbs .link {
  color: #a8a8a8 !important;
}

.dark .VPDocBreadcrumbs .link:hover {
  color: #4fc3f7 !important;
  text-shadow: 0 0 5px rgba(79, 195, 247, 0.3);
}

/* 页脚样式 */
.dark .VPDocFooter {
  border-top: 1px solid rgba(79, 195, 247, 0.2);
}

.dark .VPDocFooter .pager-link {
  color: #a8a8a8;
}

.dark .VPDocFooter .pager-link:hover {
  background: rgba(79, 195, 247, 0.1) !important;
  color: #4fc3f7 !important;
  box-shadow: 0 0 25px rgba(79, 195, 247, 0.3);
}

/* 目录样式 */
.dark .VPDocAside .outline-link {
  color: #a8a8a8 !important;
}

.dark .VPDocAside .outline-link:hover {
  color: #4fc3f7 !important;
  text-shadow: 0 0 5px rgba(79, 195, 247, 0.3);
}

.dark .VPDocAside .outline-link.active {
  color: #4fc3f7 !important;
  text-shadow: 0 0 8px rgba(79, 195, 247, 0.5);
}

.dark .DocSearch-Hit:hover {
  background: rgba(79, 195, 247, 0.1) !important;
  box-shadow: 0 0 10px rgba(79, 195, 247, 0.2);
}

/* 404页面样式调整 */
.dark .cow {
  filter: brightness(0.9) contrast(1.1);
}

.dark .text-box h1 {
  text-shadow: 0 0 20px rgba(79, 195, 247, 0.8);
}

.dark .home-btn {
  box-shadow: 0 0 20px rgba(79, 195, 247, 0.5);
}

/* 响应式调整 */
@media (max-width: 960px) {
  .dark .VPSidebar {
    background: rgba(15, 15, 35, 0.95) !important;
  }
  
  .dark .VPNav {
    background: rgba(15, 15, 35, 0.95) !important;
  }
}

/* 移动端主题切换菜单修复 */
@media (max-width: 960px) {
  /* 恢复菜单的正常显示逻辑，只在展开时显示 */
  .VPNavBarMenu .menu[data-v-3bbc7632] {
    opacity: 0 !important;
    visibility: hidden !important;
    transition: opacity .25s, visibility .25s, transform .25s !important;
  }
  
  /* 只在按钮展开时显示菜单 */
  .VPNavBarMenu .button[aria-expanded="true"] + .menu[data-v-3bbc7632] {
    opacity: 1 !important;
    visibility: visible !important;
  }
  
  /* 确保主题切换按钮保持相对定位，不被菜单覆盖 */
  .VPNavBarAppearance,
  .VPNavBarAppearance *,
  .VPSwitch,
  .VPSwitch * {
    position: relative !important;
    z-index: 10 !important;
  }
  
  /* 菜单容器使用合理的z-index */
  .VPNavBarMenu {
    z-index: 50 !important;
  }
  
  /* 菜单按钮 */
  .VPNavBarMenuButton {
    z-index: 51 !important;
  }
  
  /* 下拉菜单内容 */
  .VPNavBarMenu .menu,
  .VPNavBarMenu .VPMenu {
    z-index: 52 !important;
    background: rgba(15, 15, 35, 0.95) !important;
    backdrop-filter: blur(15px);
    border: 1px solid rgba(79, 195, 247, 0.2) !important;
    border-radius: 8px !important;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3) !important;
    /* 确保菜单容器大小与内容匹配 */
    padding: 0 !important;
    margin: 0 !important;
    min-height: auto !important;
    height: auto !important;
    /* 修复毛玻璃效果溢出问题 */
    overflow: hidden !important;
  }
  
  /* 确保VPFlyout菜单也有相同的背景色 */
  .VPFlyout .menu {
    z-index: 52 !important;
    background: rgba(15, 15, 35, 0.95) !important;
    backdrop-filter: blur(15px);
    border: 1px solid rgba(79, 195, 247, 0.2) !important;
    border-radius: 8px !important;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3) !important;
    /* 确保菜单容器大小与内容匹配 */
    padding: 0 !important;
    margin: 0 !important;
    min-height: auto !important;
    height: auto !important;
    /* 修复毛玻璃效果溢出问题 */
    overflow: hidden !important;
  }
}

/* 移除过高的z-index设置，使用合理的层级 */
@media (max-width: 960px) {
  /* 确保主题切换按钮保持正常定位，不被菜单覆盖 */
  .VPNavBarAppearance,
  .VPNavBarAppearance *,
  .VPSwitch,
  .VPSwitch * {
    position: relative !important;
    z-index: 10 !important;
  }
  
  /* 菜单容器使用合理的z-index */
  .VPNavBarMenu {
    z-index: 50 !important;
  }
  
  /* 菜单按钮 */
  .VPNavBarMenuButton {
    z-index: 51 !important;
  }
  
  /* 下拉菜单内容 */
  .VPNavBarMenu .VPMenu,
  .VPNavBarMenu .menu,
  .VPNavBarMenu .group,
  .VPNavBarMenu .item {
    z-index: 52 !important;
    /* 确保菜单项大小合适 */
    padding: 8px 16px !important;
    margin: 0 !important;
    height: auto !important;
    min-height: auto !important;
  }
}

/* 隐藏侧边栏遮罩层 */
.dark .aside-curtain,
.dark [class*="aside-curtain"],
.dark [data-v-2b45519a].aside-curtain {
  background: transparent !important;
  opacity: 0 !important;
  pointer-events: none !important;
  display: none !important;
}

/* 确保所有可能的遮罩层都被隐藏 */
.dark .VPSidebar .aside-curtain,
.dark .VPSidebar [class*="aside-curtain"],
.dark [class*="aside-curtain"] {
  background: transparent !important;
  opacity: 0 !important;
  pointer-events: none !important;
  display: none !important;
}

/* 降低VPDocAside的z-index，让menu元素显示在上层 */
.VPDocAside,
.VPDocAside *,
[data-v-bc6b7f6f],
[data-v-bc6b7f6f] * {
  z-index: 1 !important;
}

/* 确保侧边栏内容区域层级较低 */
.VPDocAside .content,
.VPDocAside .content *,
.VPDocAside .outline-marker,
.VPDocAside .outline-title,
.VPDocAside .VPDocOutlineItem,
.VPDocAside .VPDocOutlineItem * {
  z-index: 1 !important;
}

/* 确保主题切换按钮正常显示 */
.VPSwitch,
.VPSwitch *,
.appearance,
.appearance * {
  position: relative !important;
  z-index: 10 !important;
} 

/* 恢复菜单的正常显示逻辑 */
.menu[data-v-3bbc7632] {
  transition: opacity .25s, visibility .25s, transform .25s !important;
  /* 确保菜单容器大小与内容匹配 */
  padding: 0 !important;
  margin: 0 !important;
  min-height: auto !important;
  height: auto !important;
  overflow: visible !important;
}

/* 确保菜单在展开状态下可见 */
.button[aria-expanded=true] + .menu[data-v-3bbc7632] {
  opacity: 1 !important;
  visibility: visible !important;
  transform: translateY(0) !important;
}

/* 确保菜单在收起状态下隐藏 */
.button[aria-expanded=false] + .menu[data-v-3bbc7632] {
  opacity: 0 !important;
  visibility: hidden !important;
  transform: translateY(-10px) !important;
}

/* 简化菜单显示逻辑 */
.VPFlyout,
.VPFlyout * {
  z-index: 50 !important;
}

/* 确保菜单内容正确显示 */
.VPFlyout .menu {
  z-index: 51 !important;
  background: rgba(15, 15, 35, 0.95) !important;
  backdrop-filter: blur(15px) !important;
  border: 1px solid rgba(79, 195, 247, 0.2) !important;
  border-radius: 8px !important;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3) !important;
  /* 确保菜单容器大小与内容匹配 */
  padding: 0 !important;
  margin: 0 !important;
  min-height: auto !important;
  height: auto !important;
  /* 修复毛玻璃效果溢出问题 */
  overflow: hidden !important;
}

/* 确保菜单在展开时可见 */
.VPFlyout .button[aria-expanded="true"] + .menu {
  opacity: 1 !important;
  visibility: visible !important;
  transform: translateY(0) !important;
}

/* 确保菜单在收起时隐藏 */
.VPFlyout .button[aria-expanded="false"] + .menu {
  opacity: 0 !important;
  visibility: hidden !important;
  transform: translateY(-10px) !important;
} 

/* 确保菜单组和菜单项大小合适 */
.VPMenu,
.VPMenu *,
.menu,
.menu *,
.group,
.group *,
.item,
.item * {
  box-sizing: border-box !important;
}

/* 确保菜单组没有额外的空间 */
.VPMenu .group,
.menu .group {
  padding: 0 !important;
  margin: 0 !important;
  height: auto !important;
  min-height: auto !important;
}

/* 确保菜单项大小合适 */
.VPMenu .item,
.menu .item {
  padding: 8px 16px !important;
  margin: 0 !important;
  height: auto !important;
  min-height: auto !important;
  line-height: 1.5 !important;
}

/* 确保菜单容器完全贴合内容 */
.VPMenu,
.menu {
  display: flex !important;
  flex-direction: column !important;
  align-items: stretch !important;
  width: auto !important;
  min-width: 200px !important;
  max-width: none !important;
} 

/* 星空主题移动端本地导航栏样式 */
@media (max-width: 960px) {
  /* 整个导航栏采用半透明深色背景并加毛玻璃和底部分割线 */
  .dark .VPLocalNav {
    background: rgba(15, 15, 35, 0.9) !important;
    backdrop-filter: blur(15px);
    border-bottom: 1px solid rgba(79, 195, 247, 0.2);
  }

  /* "Menu" 按钮和目录下拉按钮的文字颜色，与侧边栏链接一致 */
  .dark .VPLocalNav .menu,
  .dark .VPLocalNavOutlineDropdown button {
    color: #a8a8a8 !important;
    background: transparent !important;
    padding: 12px 20px !important;
    font-size: 12px;
    line-height: 24px;
  }

  /* 悬停或展开时使用星空主题的高亮色 */
  .dark .VPLocalNav .menu:hover,
  .dark .VPLocalNavOutlineDropdown button:hover,
  .dark .VPLocalNavOutlineDropdown button.open {
    color: #4fc3f7 !important;
    text-shadow: 0 0 6px rgba(79, 195, 247, 0.4);
  }

  /* 下拉列表使用半透明深色背景、毛玻璃和蓝色边框，与侧边栏一致 */
  .dark .VPLocalNavOutlineDropdown .items {
    background: rgba(15, 15, 35, 0.9) !important;
    backdrop-filter: blur(15px);
    border: 1px solid rgba(79, 195, 247, 0.3);
    box-shadow: 0 0 20px rgba(79, 195, 247, 0.1);
  }

  /* 下拉列表中的标题和链接颜色 */
  .dark .VPLocalNavOutlineDropdown .top-link,
  .dark .VPLocalNavOutlineDropdown .outline-link {
    color: #a8a8a8 !important;
  }
  .dark .VPLocalNavOutlineDropdown .outline-link:hover,
  .dark .VPLocalNavOutlineDropdown .outline-link.active {
    color: #4fc3f7 !important;
    text-shadow: 0 0 5px rgba(79, 195, 247, 0.3);
  }
} 